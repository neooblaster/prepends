# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# ---                                                                      --- #
# ---          Put your rules here for better performances.                --- #
# ---          One file/folder per line between brackets.                  --- #
# ---                                                                      --- #
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# Prepends Keywords :
#   - FILES   : list of files   under management
#   - FOLDERS : list of folders under management
#   - INCLUDE : Rules under this block will consider as included
#   - EXCLUDE : Rules under this block will consider as excluded
#   - PREPEND : Rules under this block will concern only auto_prepend_files
#   - APPEND  : Rules under this block will concern only auto_append_files
#
# Default rules :
#   • APPEND  / PREPEND : If not set, default rule is for PREPEND and APPEND
#     but becarefull for function redeclaration errors.
#   • INCLUDE / EXCLUDE : If not set, default rule is for EXCLUDE.
#
# Important : INCLUDE rule have priority on EXCLUDE ones
#
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

# ---------------------------------------------------------------------------- #
# ---[ GLOBAL ]--------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
FILES {
    INCLUDE {

    }
    EXCLUDE {

    }
}
FOLDERS {
    INCLUDE {

    }
    EXCLUDE {
        # Function folder can not be appended due to redeclaration
        # So this folder is globaly excluded to explicitely include for PREPEND
        functions
        setups
    }
}


# ---------------------------------------------------------------------------- #
# ---[ PREPENDS ]------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
PREPEND {
    INCLUDE {
        FOLDERS {
            functions
            setups
        }
    }
    EXCLUDE {

    }
}


# ---------------------------------------------------------------------------- #
# ---[ APPENDS ]-------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
PREPEND {
    INCLUDE {

    }
    EXCLUDE {

    }
}



# ---------------------------------------------------------------------------- #
# --------------------   EXCLUDES ALL DEVELOPMENT RESOURCES   ---------------- #
# ---------------------------------------------------------------------------- #
FILES {
   ~.md$
   ~.json$
   ~.yml$
   ~.sh$
   LICENSE
   Makefile
}

FOLDERS {
   docker
   #tests
}



# BREAK_SIGNAL --- If remove, all text below will be read unnecessarily.
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# ---                                                                      --- #
# ---  All files and folder which begins with dot char will be ignore.     --- #
# ---                                                                      --- #
# ---  You can use $_SERVER keys to limit folders & files exclusion.       --- #
# ---                                                                      --- #
# ---  You can nest all key between themselves.                            --- #
# ---  Childs will read only if parent is concerns.                        --- #
# ---                                                                      --- #
# ---  Below an exemple of nested rules. It's a NGINX-LIKE config file.    --- #
# ---                                                                      --- #
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# Exemple:
SERVER_NAME library.neoblaster.fr {
    REQUEST_URI ~Moteur.de.Template.Homemade {
        FILES {
            EXCLUDE {
                Template.class.php
            }
        }
    }
    REQUEST_URI ~SYSLang.V {
        FILES {
            EXCLUDE {
                SYSLang.class.php
                SYSLangCompilator.class.php
            }
        }
    }
}


# Main Formula
SERVER_KEY_IN_UPPER_CASE your_value_or_regexp_with_tilde {
    SERVER_KEY_IF_PARENT_ALLOW you_next_condition_value {
        // Exclude file my_file.php when SERVER_KEY_IN_UPPER_CASE and SERVER_KEY_IF_PARENT_ALLOW found
        FILES {
            EXCLUDE {
                my_file.php
            }
        }
    }
}


# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# ---                                                                      --- #
# ---                              Tilde Char                              --- #
# ---                                                                      --- #
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# Tilde mean value is read as Regular Expression (PCRE)
# In that case, tilde not mean begins with.
# In that case, take care of metacharacter like dot (.), quantifier, capturing parenthesis, brackets etc...




# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# ---                                                                      --- #
# ---                           Comments Allowed                           --- #
# ---                                                                      --- #
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

# All text behind hash key will be truncate
; All text behind semicolon will be truncate
// All text behin double slash will be truncate
/* All text between slash-wildcar wildcard-slash will be truncate (Allow multiline) */


# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
# ---                                                                      --- #
# ---             Below, the list of All existing SERVER KEYS              --- #
# ---                                                                      --- #
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #
#
#	 Nota : $_SERVER key for Apache has not been check
#
#                                   +-----------------------+
#                                   |          SAPI         |
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |           NAME OF KEY          | APACH | NGINX |  CLI  | DESCRIPTION (Value sample)
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           USER |       |   X   |   X   | www-data
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           HOME |       |   X   |   X   | /var/www
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                      FCGI_ROLE |       |   X   |       | RESPONDER
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                      PATH_INFO |       |   X   |       |
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                SCRIPT_FILENAME |       |   X   |   X   | /var/www/browse.php
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                   QUERY_STRING |       |   X   |       |
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                 REQUEST_METHOD |       |   X   |       | GET
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                   CONTENT_TYPE |       |   X   |       |
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                 CONTENT_LENGTH |       |   X   |       |
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    SCRIPT_NAME |       |   X   |   X   | /browse.php
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    REQUEST_URI |       |   X   |       | /PHP.Classes/SYSLang.V.1.0/
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                   DOCUMENT_URI |       |   X   |       | /browse.php
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                  DOCUMENT_ROOT |       |   X   |   X   | /var/www
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                SERVER_PROTOCOL |       |   X   |       | HTTP/1.1
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |              GATEWAY_INTERFACE |       |   X   |       | CGI/1.1
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                SERVER_SOFTWARE |       |   X   |       | nginx/1.6.2
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    REMOTE_ADDR |       |   X   |       | 74.123.43.22
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    REMOTE_PORT |       |   X   |       | 53211
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    SERVER_ADDR |       |   X   |       | 192.168.1.253
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    SERVER_PORT |       |   X   |       | 80
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    SERVER_NAME |       |   X   |       | neoblaster.fr
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                REDIRECT_STATUS |       |   X   |       | 200
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                            CWD |       |   X   |       | Custom server param sent by FAST_PARAM
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                      HTTP_HOST |       |   X   |       | neoblaster.fr
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                HTTP_CONNECTION |       |   X   |       | keep-alive
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  | HTTP_UPGRADE_INSECURE_REQUESTS |       |   X   |       | 1
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                HTTP_USER_AGENT |       |   X   |       | Mozilla/5.0 (Windows NT 6.1; WOW64) (...)
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    HTTP_ACCEPT |       |   X   |       |
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                       HTTP_DNT |       |   X   |       | 1
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |           HTTP_ACCEPT_ENCODING |       |   X   |       | gzip, deflate, sdch
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |           HTTP_ACCEPT_LANGUAGE |       |   X   |       | fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                    HTTP_COOKIE |       |   X   |       | SYSLang_LANG=fr-FR
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                       PHP_SELF |       |   X   |   X   | /browse.php
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |             REQUEST_TIME_FLOAT |       |   X   |   X   | 1485468784.8032
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                   REQUEST_TIME |       |   X   |   X   | 1485468784
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                 XDG_SESSION_ID |       |       |   X   | c2
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           TERM |       |       |   X   | xterm
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                          SHELL |       |       |   X   | /bin/bash
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                     SSH_CLIENT |       |       |   X   | 74.123.43.22 50163 22
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                        SSH_TTY |       |       |   X   | /dev/pts/0
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                      LS_COLORS |       |       |   X   | rs=0:di=01;34:ln=01;36:mh=00:pi=40; (...)
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           MAIL |       |       |   X   | /var/mail/pi
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           PATH |       |       |   X   | /usr/local/sbin:/usr/local/bin:/usr/sbin
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                            PWD |       |       |   X   | /var/www/Prepends
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           LANG |       |       |   X   | en_GB.UTF-8
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                          SHLVL |       |       |   X   | 1
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                        LOGNAME |       |       |   X   | pi
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                 SSH_CONNECTION |       |       |   X   | 74.123.43.22 50163 192.168.1.253 22
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                XDG_RUNTIME_DIR |       |       |   X   | /run/user/1000
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                         OLDPWD |       |       |   X   | /var/www
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                              _ |       |       |   X   | /usr/bin/php
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                PATH_TRANSLATED |       |       |   X   | auto_prepend_files.php
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           argv |       |       |   X   | ARRAY
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#  |                           argc |       |       |   X   | 1
#  +--------------------------------+-------+-------+-------+-------------------------------------------
#